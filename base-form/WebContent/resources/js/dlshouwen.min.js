/** 实例化DLShouWen对象 */var sw=new DLShouWen;function DLShouWen(){}DLShouWen.prototype.guid=function(){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};DLShouWen.prototype.getTopWindow=function(a){return a.parent==a?a:sw.getTopWindow(a.parent)};DLShouWen.prototype.openModal=openModal;DLShouWen.prototype.closeModal=closeModal;DLShouWen.prototype.updateGrid=function(a,b){a.closeCallback=function(){b.reload(!0)};openModal(a)};DLShouWen.prototype.alert=function(a,b,d){window.alert(a)};DLShouWen.prototype.toast=openToast;DLShouWen.prototype.showProcessBar=showProcessBar;DLShouWen.prototype.hideProcessBar=hideProcessBar;DLShouWen.prototype.getFormParams=getFormParams;DLShouWen.prototype.doReset=function(a){document.forms[a].reset()};DLShouWen.prototype.htmlEncode=htmlEncode;DLShouWen.prototype.htmlDecode=htmlDecode;DLShouWen.prototype.initGridButtonLimit=function(a,b){var d=path+"/core/base/limit",c={};c.urls=a;sw.ajaxSubmit(d,c,function(a){for(var f in a){var c=f;a[f]||("0"==b&&$('button[limit\x3d"'+c+'"]').addClass("hide"),"1"==b&&($('button[limit\x3d"'+c+'"]').attr("disabled","disabled"),$('button[limit\x3d"'+c+'"]').attr("title","\u60a8\u65e0\u6743\u6267\u884c\u8be5\u64cd\u4f5c")))}})};DLShouWen.prototype.ajaxSubmit=function(a,b,d,c,e){$.ajax({type:"post",url:a,data:b,async:void 0==e?!0:e,contentType:"application/x-www-form-urlencoded; charset \x3d utf-8",beforeSend:function(a){a.setRequestHeader("__REQUEST_TYPE__","AJAX_REQUEST")},success:function(a){if("__AJAX_REQUEST_NO_LIMIT__"==a)sw.toast("\u60a8\u65e0\u6743\u9650\u6267\u884c\u6b64\u64cd\u4f5c\u3002","error",3E3),sw.hideProcessBar();else if("__AJAX_REQUEST_SESSION_OUT__"==a)sw.alert("\u7531\u4e8e\u60a8\u957f\u65f6\u95f4\u672a\u64cd\u4f5c\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u767b\u5f55\u672c\u7cfb\u7edf\u3002"),sw.getTopWindow(window).location.href=path+"/core/base/login";else if("__AJAX_REQUEST_FORCE_OUTLINE__"==a)sw.alert("\u60a8\u5df2\u7ecf\u88ab\u5f3a\u5236\u4e0b\u7ebf\u3002"),sw.getTopWindow(window).location.href=path+"/core/base/login";else try{sw.hideProcessBar(),d(a)}catch(b){}},error:function(a,b,d){try{if(sw.hideProcessBar(),c)try{c()}catch(e){}else sw.toast("\u7cfb\u7edf\u51fa\u73b0\u9519\u8bef\u3002","error",3E3)}catch(e){}}})};DLShouWen.prototype.ajaxSubmitJSON=function(a,b,d,c,e){$.ajax({type:"post",url:a,data:JSON.stringify(b),async:void 0==e?!0:e,contentType:"application/json",dataType:"json",beforeSend:function(a){a.setRequestHeader("__REQUEST_TYPE__","AJAX_REQUEST")},success:function(a){if("__AJAX_REQUEST_NO_LIMIT__"==a)sw.toast("\u60a8\u65e0\u6743\u9650\u6267\u884c\u6b64\u64cd\u4f5c\u3002","error",3E3),sw.hideProcessBar();else if("__AJAX_REQUEST_SESSION_OUT__"==a)sw.alert("\u7531\u4e8e\u60a8\u957f\u65f6\u95f4\u672a\u64cd\u4f5c\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u767b\u5f55\u672c\u7cfb\u7edf\u3002"),sw.getTopWindow(window).location.href=path+"/core/base/login";else if("__AJAX_REQUEST_FORCE_OUTLINE__"==a)sw.alert("\u60a8\u5df2\u7ecf\u88ab\u5f3a\u5236\u4e0b\u7ebf\u3002"),sw.getTopWindow(window).location.href=path+"/core/base/login";else try{sw.hideProcessBar(),d(a)}catch(b){}},error:function(a,b,d){try{if(sw.hideProcessBar(),c)try{c()}catch(e){}else sw.toast("\u7cfb\u7edf\u51fa\u73b0\u9519\u8bef\u3002","error",3E3)}catch(e){}}})};DLShouWen.prototype.ajaxSubmitRefreshGrid=function(a,b,d){sw.ajaxSubmit(a,b,function(a){sw.ajaxSuccessCallback(a);d.reload(!0)})};DLShouWen.prototype.ajaxSuccessCallback=function(a,b,d,c){try{if(a.success&&(sw.toast(a.successMessage,"success",1500),b))try{b(a)}catch(g){}if(a.warning&&(sw.toast(a.warningMessage,"warning",1500),d))try{d(a)}catch(g){}if(a.error&&(sw.toast(a.errorMessage,"error",1500),c))try{c(a)}catch(g){}if(null!=a.extParam&&null!=a.extParam.URL){var e=window.document.location.href,f=window.document.location.pathname,h=e.indexOf(f),k=e.substring(0,h),l=f.substring(0,f.substr(1).indexOf("/")+1);setTimeout(function(){window.location.href=k+l+"/"+a.extParam.URL},1E3)}}catch(g){}};
/*!
 * DLShouWen Validator v1.1.9
 *
 * includes: jquery, bootstrap, fontawesome
 * Copyright 2016, http://os.dlshouwen.com/validator, http://www.dlshouwen.com
 */(function(a){a.fn.dlshouwen||(a.fn.dlshouwen={});a.fn.dlshouwen.validator={init:function(e,c){var d={option:a.extend(!0,{},a.fn.dlshouwen.validator.defaultOption,c),form:e,singleValid:function(g){var f=this,e=a(g).attr("valid"),d=e.split("|"),b=a(g).val(),c=a(g).attr("name"),k=a(g).attr("validTitle");if(0>=e.length)b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.success,"{validTitle}",k),f.validSingleHandler(g,"success",b);else if(a(g).is(":radio")||a(g).is("select")&&"multiple"!=a(g).attr("multiple")){for(var l=0,l=a(g).is(":radio")?a(f.form).find("input[name\x3d"+c+"]:checked").length:a.fn.dlshouwen.validator.tools.length(b),e=0;e<d.length;e++){var h=d[e];if("r"==h){if(0>=l){b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.required.select,"{validTitle}",k);f.validSingleHandler(g,"failure",b);return}break}}b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.success,"{validTitle}",k);f.validSingleHandler(g,"success",b)}else if(a(g).is(":checkbox")||a(g).is("select")&&"multiple"==a(g).attr("multiple")){l=0;l=a(g).is(":checkbox")?a(f.form).find("input[name\x3d"+c+"]:checked").length:a(f.form).find("select[name\x3d"+c+"] option:selected").length;if(!(0>=e.length))for(e=0;e<d.length;e++){h=d[e];if("r"==h&&0>=l){b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.required.select,"{validTitle}",k);f.validSingleHandler(g,"failure",b);return}if(h.match(/^le?[0-9]*\-le?[0-9]*$/)){var c=h.split("-")[0],r=h.split("-")[1],n=-1!=c.indexOf("le")?"\x3e\x3d":"\x3e",t=-1!=r.indexOf("le")?"\x3c\x3d":"\x3c",h=c.match(/[0-9]+$/i),p=r.match(/[0-9]+$/i);if(null!=h&&eval("!("+l+n+h+")")){b=-1!=c.indexOf("le")?a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.multiple.greatEqualsThan:a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.multiple.greatThan;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{minLength}",h);f.validSingleHandler(g,"failure",b);return}if(null!=p&&eval("!("+l+t+p+")")){b=-1!=c.indexOf("le")?a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.multiple.lessEqualsThan:a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.multiple.lessThan;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{maxLength}",p);f.validSingleHandler(g,"failure",b);return}break}}b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.success,"{validTitle}",k);f.validSingleHandler(g,"success",b)}else if((l=a(g).attr("validPassword"))&&b!=a("input[name\x3d"+l+"]").val())b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.passwordNotEquals,"{validTitle}",k),f.validSingleHandler(g,"failure",b);else{l=a.fn.dlshouwen.validator.tools.length(b);for(e=0;e<d.length;e++)if(h=d[e],"r"==h){if(null==b||""==b.replace(/^\s+|\s+$/g,"")){b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.required.input,"{validTitle}",k);f.validSingleHandler(g,"failure",b);return}}else if(null!=b&&""!=b)if(h.match(/^le?[0-9]*\-le?[0-9]*$/)){c=h.split("-")[0];r=h.split("-")[1];n=-1!=c.indexOf("le")?"\x3e\x3d":"\x3e";t=-1!=r.indexOf("le")?"\x3c\x3d":"\x3c";h=c.match(/[0-9]+$/i);p=r.match(/[0-9]+$/i);if(null!=h&&eval("!("+l+n+h+")")){b=-1!=c.indexOf("le")?a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.string.greatEqualsThan:a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.string.greatThan;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{minLength}",h);f.validSingleHandler(g,"failure",b);return}if(null!=p&&eval("!("+l+t+p+")")){b=-1!=r.indexOf("le")?a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.string.lessEqualsThan:a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.string.lessThan;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{maxLength}",p);f.validSingleHandler(g,"failure",b);return}}else{for(var m in f.option.validType)if(h==m)if("function"==typeof f.option.validType[m]){if(c=f.option.validType[m](b,f.option),!c.validResult){b=c.validMessage;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{typeName}",a.fn.dlshouwen.validator.lang[f.option.lang].validTypeName[m]);f.validSingleHandler(g,"failure",b);return}}else if(!b.match(f.option.validType[m])){b=a.fn.dlshouwen.validator.lang[f.option.lang].validate.typeFormat;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{typeName}",a.fn.dlshouwen.validator.lang[f.option.lang].validTypeName[m]);f.validSingleHandler(g,"failure",b);return}if(h.match(/^me?[0-9]*\-me?[0-9]*$/)){c=h.split("-")[0];n=h.split("-")[1];p=-1!=c.indexOf("me")?"\x3e\x3d":"\x3e";r=-1!=n.indexOf("me")?"\x3c\x3d":"\x3c";h=c.match(/[0-9]+$/i);n=n.match(/[0-9]+$/i);if(null!=h&&eval("!(value"+p+h+")")){b=-1!=c.indexOf("me")?a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.number.greatEqualsThan:a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.number.greatThan;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{min}",h);f.validSingleHandler(g,"failure",b);return}if(null!=n&&eval("!(value"+r+n+")")){b=-1!=c.indexOf("me")?a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.number.lessEqualsThan:a.fn.dlshouwen.validator.lang[f.option.lang].validate.greatLess.number.lessThan;b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{validTitle}",k);b=a.fn.dlshouwen.validator.tools.replaceAll(b,"{max}",n);f.validSingleHandler(g,"failure",b);return}}}b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].validate.success,"{validTitle}",k);f.validSingleHandler(g,"success",b);if(d=a(g).attr("validUnique")){b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].unique.validating,"{validTitle}",k);f.validSingleHandler(g,"validating",b);m=d.split("|")[0];l=f.option.unique;c={};c.sqlCode=m;c.key=a(g).val();h=[];for(e=1;e<d.split("|").length;e++)m=d.split("|")[e],b=a("#"+m).val(),h.push(b);c.attrs=h;m={};m.validParams=JSON.stringify(c);a.ajax({type:"post",url:l,data:m,contentType:"application/x-www-form-urlencoded; charset\x3dutf-8",beforeSend:function(a){a.setRequestHeader("__REQUEST_TYPE","AJAX_REQUEST")},success:function(b){(b=a.parseJSON(b))?(b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].unique.success,"{validTitle}",k),f.validSingleHandler(g,"unique_success",b)):(b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].unique.failure,"{validTitle}",k),f.validSingleHandler(g,"unique_failure",b))},failure:function(b,e,c){b=a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[f.option.lang].unique.error,"{validTitle}",k);f.validSingleHandler(g,"unique_error",b)}})}}},validSingleHandler:function(e,f,c){var d=a(e).attr("validInfoArea");if(d){var b=d.split("|")[0],q=d.split("|")[1],k=d.split("|")[2],l=d.split("|")[3],d=d.split("|")[4];q||(q=this.option.css.area.init);k||(k=this.option.css.area.validating);l||(l=this.option.css.area.success);d||(d=this.option.css.area.failure);a("#"+b).removeClass(q);a("#"+b).removeClass(k);a("#"+b).removeClass(l);a("#"+b).removeClass(d);if("init"==f)a("#"+b).addClass(q),a("#"+b).html(this.option.icon.init+c);else if("validating"==f)a("#"+b).addClass(k),a("#"+b).html(this.option.icon.validating+c);else if("success"==f||"unique_success"==f)a("#"+b).addClass(l),a("#"+b).html(this.option.icon.success+c);else if("failure"==f||"unique_failure"==f||"unique_failure"==f)a("#"+b).addClass(d),a("#"+b).html(this.option.icon.failure+c)}(c=a(e).attr("validElementCss"))?(q=c.split("|")[0],k=c.split("|")[1],l=c.split("|")[2],d=c.split("|")[3],c=this.option.css.element,b={},b.init=q,b.validating=k,b.success=l,b.failure=d,c=a.extend({},c,b)):c=this.option.css.element;"init"==f?this.option.elementCallback.init(e,c):"validating"==f?this.option.elementCallback.validating(e,c):"success"==f||"unique_success"==f?this.option.elementCallback.success(e,c):"failure"!=f&&"unique_failure"!=f&&"unique_failure"!=f||this.option.elementCallback.failure(e,c);q=a(e).attr("name");a(e).is(":checkbox")||a(e).is(":radio")?a("input[name\x3d"+q+"]").attr("validResult",f):a(e).attr("validResult",f)},valid:function(){var e=this;a(e.form).find(":input").each(function(c){if(a(this).is(":file")||a(this).is(":button")||a(this).is(":submit")||a(this).is(":hidden")||void 0==a(this).attr("valid"))return!0;e.singleValid(this)})},validResult:function(){var e=this,c=!0,d=!1;a(e.form).find(":input").each(function(u){if(a(this).is(":file")||a(this).is(":button")||a(this).is(":submit")||a(this).is(":hidden")||void 0==a(this).attr("valid"))return!0;a(this).attr("validResult")&&"init"!=a(this).attr("validResult")||e.singleValid(this);if("validating"==a(this).attr("validResult"))return u=a(this).attr("validTitle"),a.fn.dlshouwen.validator.tools.toast(a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[e.option.lang].alert.validating,"{validTitle}",u),"info",3E3),c=!1,d=!0,!1;if("unique_failure"==a(this).attr("validResult")||"failure"==a(this).attr("validResult"))return c=!1,a(this).focus(),!1});d||c||a.fn.dlshouwen.validator.tools.toast(a.fn.dlshouwen.validator.lang[e.option.lang].alert.error,"error",3E3);return c},reset:function(){this.init()}};a(d.form).find(":input").each(function(e){if(a(this).is(":file")||a(this).is(":button")||a(this).is(":submit")||a(this).is(":hidden")||void 0==a(this).attr("valid"))return!0;a(this).removeAttr("validResult");e=a(this).attr("validTitle");var c="",c=a(this).is(":radio")||a(this).is(":checkbox")||a(this).is("select")?a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[d.option.lang].init.select,"{validTitle}",e):a.fn.dlshouwen.validator.tools.replaceAll(a.fn.dlshouwen.validator.lang[d.option.lang].init.input,"{validTitle}",e);d.validSingleHandler(this,"init",c);a(this).is(":radio")||a(this).is(":checkbox")?a(this).bind("click",function(){d.singleValid(this)}):a(this).is("select")?a(this).bind("change",function(){d.singleValid(this)}):a(this).bind("blur",function(){d.singleValid(this)})});a(d.form).find(":reset").bind("click",function(){d.reset()});return d},tools:{cardWi:[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],cardValideCode:[1,0,10,9,8,7,6,5,4,3,2],cardIdValidate:function(e,c){if(15==e.length)return a.fn.dlshouwen.validator.tools.cardId15Validate(e,c);if(18==e.length)return a.fn.dlshouwen.validator.tools.cardId18Validate(e,c);var d={validResult:!1};d.validMessage=a.fn.dlshouwen.validator.lang[c.lang].validate.card.wrongLength;return d},cardId15Validate:function(e,c){var d={};if(15!=e.length)return d.validResult=!1,d.validMessage=a.fn.dlshouwen.validator.lang[c.lang].validate.card.notCard15,d;a.fn.dlshouwen.validator.tools.isValidityBrithBy15IdCard(e)?d.validResult=!0:(d.validResult=!1,d.validMessage=a.fn.dlshouwen.validator.lang[c.lang].validate.card.wrongCard15);return d},cardId18Validate:function(e,c){var d={};if(18!=e.length)return d.validResult=!1,d.validMessage=a.fn.dlshouwen.validator.lang[c.lang].validate.card.notCard18,d;var g=e.split("");a.fn.dlshouwen.validator.tools.isValidityBrithBy18IdCard(e)&&a.fn.dlshouwen.validator.tools.isTrueValidateCodeBy18IdCard(g)?d.validResult=!0:(d.validResult=!1,d.validMessage=a.fn.dlshouwen.validator.lang[c.lang].validate.card.wrongCard18);return d},isValidityBrithBy15IdCard:function(a){var c=a.substring(6,8),d=a.substring(8,10);a=a.substring(10,12);var g=new Date(c,parseFloat(d)-1,parseFloat(a));return g.getYear()!=parseFloat(c)||g.getMonth()!=parseFloat(d)-1||g.getDate()!=parseFloat(a)?!1:!0},isTrueValidateCodeBy18IdCard:function(e){var c=0;"x"==e[17].toLowerCase()&&(e[17]=10);for(var d=0;17>d;d++)c+=a.fn.dlshouwen.validator.tools.cardWi[d]*e[d];valCodePosition=c%11;return e[17]==a.fn.dlshouwen.validator.tools.cardValideCode[valCodePosition]?!0:!1},isValidityBrithBy18IdCard:function(a){var c=a.substring(6,10),d=a.substring(10,12);a=a.substring(12,14);var g=new Date(c,parseFloat(d)-1,parseFloat(a));return g.getFullYear()!=parseFloat(c)||g.getMonth()!=parseFloat(d)-1||g.getDate()!=parseFloat(a)?!1:!0},toastZIndex:1090,toastThread:null,toastFadeInAnimateTime:500,toastFadeOutAnimateTime:500,openToast:function(e,c,d){c=c?c:"info";d=d?d:3E3;var g="";"info"==c&&(g="text-primary");"warning"==c&&(g="text-warning");"error"==c&&(g="text-danger");"success"==c&&(g="text-success");clearTimeout(a.fn.dlshouwen.validator.tools.toastThread);a(".toast").remove();e='\x3cdiv class\x3d"toast '+g+'" style\x3d"z-index:'+a.fn.dlshouwen.validator.tools.toastZIndex+'"\x3e'+e+"\x3c/div\x3e";a("body").append(e);e=a(window).width()/2-a(".toast").width()/2-20;a(".toast").css("left",e);a(".toast").fadeIn(a.fn.dlshouwen.validator.tools.toastFadeInAnimateTime,function(){d&&(a.fn.dlshouwen.validator.tools.toastThread=setTimeout(a.fn.dlshouwen.validator.tools.removeToast,d))})},removeToast:function(){a(".toast").fadeOut(a.fn.dlshouwen.validator.tools.toastFadeOutAnimateTime,function(){a(".toast").remove()})},toast:function(e,c,d){a.fn.dlshouwen.validator.tools.openToast(e,c,d)},replaceAll:function(a,c,d){return(new String(a)).replace(new RegExp(c,"gm"),d)},length:function(a){return(new String(a)).replace(/[^\x00-\xff]/g,"**").length}}}})(jQuery);(function(a){a.fn.dlshouwen.validator.defaultOption={lang:"zh-cn",unique:path+"/core/base/extra/unique",validType:{email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,phone:/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/,english_number:/^\w+$/,mobile:/^((\(\d{3}\))|(\d{3}\-))?1\d{10}$/,url:/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i,money:/^-?((\d{1,3}(,\d{3})*?)|\d+)(\.\d{1,2})?$/,number:/^\d+$/,zip:/^[1-9]\d{5}$/,qq:/^[1-9]\d{4,10}$/,integer:/^[-\+]?\d+$/,"double":/^[-\+]?\d+(\.\d+)?$/,english:/^[A-Za-z]+$/,chinese:/^[\u0391-\uFFE5]+$/,card:a.fn.dlshouwen.validator.tools.cardIdValidate,card15:a.fn.dlshouwen.validator.tools.cardId15Validate,card18:a.fn.dlshouwen.validator.tools.cardId18Validate},css:{element:{init:"",validating:"",success:"",failure:"has-error"},area:{init:"",validating:"info-area-validating",success:"info-area-success",failure:"info-area-failure"}},icon:{init:'\x3ci class\x3d"fa fa-exclamation-circle"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;',validating:'\x3ci class\x3d"fa fa-spinner fa-spin"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;',success:'\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;',failure:'\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;'},elementCallback:{init:function(a,c){},validating:function(a,c){},success:function(e,c){if(a(e).is(":checkbox")||a(e).is(":radio")){var d=a(e).attr("name");a("input[name\x3d"+d+"]").parents(".form-group").removeClass(c.failure)}else a(e).parents(".form-group").removeClass(c.failure)},failure:function(e,c){if(a(e).is(":checkbox")||a(e).is(":radio")){var d=a(e).attr("name");a("input[name\x3d"+d+"]").parents(".form-group").addClass(c.failure)}else a(e).parents(".form-group").addClass(c.failure)}}}})(jQuery);